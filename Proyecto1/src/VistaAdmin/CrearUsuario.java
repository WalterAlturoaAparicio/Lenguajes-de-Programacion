/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package VistaAdmin;

import Controlador.LogicaUsuario;
import Modelo.Conexion;
import Vista.Login1;
import com.mysql.jdbc.Connection;
import com.mysql.jdbc.Statement;
import com.placeholder.PlaceHolder;
import java.sql.SQLException;
import java.util.logging.Level;
import java.util.logging.Logger;

import javax.swing.JOptionPane;
import javax.swing.JPanel;

/**
 *
 * @author walter
 */
public class CrearUsuario extends javax.swing.JPanel {

    /**
     * Creates new form CrearUsuario
     */
    private String nombre, apellido, cedula, correo, numeroContacto, apellid2, pass,repeatPass ,usuario, direccion, tipoUsuario;
    private Login1 nuevo;
    LogicaUsuario logica = new LogicaUsuario();
    public CrearUsuario(Login1 nuevo) {
        initComponents();
        this.nuevo=nuevo;
        holders();
    }
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        rSPanelGradiente1 = new rojeru_san.rspanel.RSPanelGradiente();
        txt_correo = new javax.swing.JTextField();
        obligatorio = new javax.swing.JLabel();
        obligatorio1 = new javax.swing.JLabel();
        obligatorio2 = new javax.swing.JLabel();
        obligatorio4 = new javax.swing.JLabel();
        obligatorio5 = new javax.swing.JLabel();
        obligatorio6 = new javax.swing.JLabel();
        obligatorio7 = new javax.swing.JLabel();
        obligatorio8 = new javax.swing.JLabel();
        txt_usuario = new javax.swing.JTextField();
        ayuda = new javax.swing.JLabel();
        obligatorio3 = new javax.swing.JLabel();
        txt_nombres = new javax.swing.JTextField();
        txt_primerApellido = new javax.swing.JTextField();
        txt_segundoApellido = new javax.swing.JTextField();
        txt_cedula = new javax.swing.JTextField();
        txt_numeroContacto = new javax.swing.JTextField();
        txt_direccion = new javax.swing.JTextField();
        txt_contrase単a = new javax.swing.JPasswordField();
        txt_repetirContrase単a = new javax.swing.JPasswordField();
        obligatorio9 = new javax.swing.JLabel();
        logo = new javax.swing.JLabel();
        bx_tipo_usuario = new rojerusan.RSComboBox();
        salir = new rojerusan.RSMaterialButtonRectangle();
        crear = new rojerusan.RSMaterialButtonRectangle();
        jLabel1 = new javax.swing.JLabel();

        setBackground(new java.awt.Color(255, 255, 255));
        setPreferredSize(new java.awt.Dimension(558, 508));
        setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        rSPanelGradiente1.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        txt_correo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txt_correoActionPerformed(evt);
            }
        });
        rSPanelGradiente1.add(txt_correo, new org.netbeans.lib.awtextra.AbsoluteConstraints(80, 300, 360, 31));

        obligatorio.setForeground(new java.awt.Color(255, 0, 0));
        obligatorio.setText("*");
        rSPanelGradiente1.add(obligatorio, new org.netbeans.lib.awtextra.AbsoluteConstraints(240, 90, 10, -1));

        obligatorio1.setForeground(new java.awt.Color(255, 0, 0));
        obligatorio1.setText(" *");
        rSPanelGradiente1.add(obligatorio1, new org.netbeans.lib.awtextra.AbsoluteConstraints(240, 180, 10, -1));

        obligatorio2.setForeground(new java.awt.Color(255, 0, 0));
        obligatorio2.setText(" *");
        rSPanelGradiente1.add(obligatorio2, new org.netbeans.lib.awtextra.AbsoluteConstraints(240, 220, 10, -1));

        obligatorio4.setForeground(new java.awt.Color(255, 0, 0));
        obligatorio4.setText(" *");
        rSPanelGradiente1.add(obligatorio4, new org.netbeans.lib.awtextra.AbsoluteConstraints(440, 220, 10, -1));

        obligatorio5.setForeground(new java.awt.Color(255, 0, 0));
        obligatorio5.setText("*");
        rSPanelGradiente1.add(obligatorio5, new org.netbeans.lib.awtextra.AbsoluteConstraints(440, 260, 10, -1));

        obligatorio6.setForeground(new java.awt.Color(255, 0, 0));
        obligatorio6.setText("*");
        rSPanelGradiente1.add(obligatorio6, new org.netbeans.lib.awtextra.AbsoluteConstraints(440, 300, 10, -1));

        obligatorio7.setForeground(new java.awt.Color(255, 0, 0));
        obligatorio7.setText("*");
        rSPanelGradiente1.add(obligatorio7, new org.netbeans.lib.awtextra.AbsoluteConstraints(440, 340, 20, -1));

        obligatorio8.setForeground(new java.awt.Color(255, 0, 0));
        obligatorio8.setText("*");
        rSPanelGradiente1.add(obligatorio8, new org.netbeans.lib.awtextra.AbsoluteConstraints(440, 380, 20, -1));

        txt_usuario.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txt_usuarioActionPerformed(evt);
            }
        });
        rSPanelGradiente1.add(txt_usuario, new org.netbeans.lib.awtextra.AbsoluteConstraints(280, 140, 162, 30));

        ayuda.setForeground(new java.awt.Color(153, 153, 153));
        ayuda.setText("Los campos con * son obligatorios");
        rSPanelGradiente1.add(ayuda, new org.netbeans.lib.awtextra.AbsoluteConstraints(80, 120, -1, -1));

        obligatorio3.setForeground(new java.awt.Color(255, 0, 0));
        obligatorio3.setText(" *");
        rSPanelGradiente1.add(obligatorio3, new org.netbeans.lib.awtextra.AbsoluteConstraints(440, 140, 10, -1));

        txt_nombres.setToolTipText("");
        txt_nombres.setCursor(new java.awt.Cursor(java.awt.Cursor.TEXT_CURSOR));
        txt_nombres.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txt_nombresActionPerformed(evt);
            }
        });
        txt_nombres.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txt_nombresKeyTyped(evt);
            }
        });
        rSPanelGradiente1.add(txt_nombres, new org.netbeans.lib.awtextra.AbsoluteConstraints(80, 140, 162, 30));

        txt_primerApellido.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txt_primerApellidoKeyTyped(evt);
            }
        });
        rSPanelGradiente1.add(txt_primerApellido, new org.netbeans.lib.awtextra.AbsoluteConstraints(80, 180, 162, 30));

        txt_segundoApellido.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txt_segundoApellidoKeyTyped(evt);
            }
        });
        rSPanelGradiente1.add(txt_segundoApellido, new org.netbeans.lib.awtextra.AbsoluteConstraints(280, 180, 162, 30));

        txt_cedula.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txt_cedulaActionPerformed(evt);
            }
        });
        txt_cedula.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txt_cedulaKeyTyped(evt);
            }
        });
        rSPanelGradiente1.add(txt_cedula, new org.netbeans.lib.awtextra.AbsoluteConstraints(80, 220, 162, 29));

        txt_numeroContacto.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txt_numeroContactoKeyTyped(evt);
            }
        });
        rSPanelGradiente1.add(txt_numeroContacto, new org.netbeans.lib.awtextra.AbsoluteConstraints(280, 220, 162, 29));
        rSPanelGradiente1.add(txt_direccion, new org.netbeans.lib.awtextra.AbsoluteConstraints(80, 260, 360, 30));
        rSPanelGradiente1.add(txt_contrase単a, new org.netbeans.lib.awtextra.AbsoluteConstraints(80, 340, 360, 30));
        rSPanelGradiente1.add(txt_repetirContrase単a, new org.netbeans.lib.awtextra.AbsoluteConstraints(80, 380, 360, 30));

        obligatorio9.setForeground(new java.awt.Color(255, 0, 0));
        obligatorio9.setText(" *");
        rSPanelGradiente1.add(obligatorio9, new org.netbeans.lib.awtextra.AbsoluteConstraints(240, 140, 10, -1));

        logo.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/logoFrui.jpg"))); // NOI18N
        rSPanelGradiente1.add(logo, new org.netbeans.lib.awtextra.AbsoluteConstraints(320, 0, 160, 140));

        bx_tipo_usuario.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Odontologo", "Auxiliar", "Cliente" }));
        bx_tipo_usuario.setToolTipText("Tipo de usuario");
        bx_tipo_usuario.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bx_tipo_usuarioActionPerformed(evt);
            }
        });
        rSPanelGradiente1.add(bx_tipo_usuario, new org.netbeans.lib.awtextra.AbsoluteConstraints(80, 80, 150, -1));

        salir.setText("Salir");
        salir.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                salirActionPerformed(evt);
            }
        });
        rSPanelGradiente1.add(salir, new org.netbeans.lib.awtextra.AbsoluteConstraints(200, 460, 110, 40));

        crear.setText("Crear");
        crear.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                crearActionPerformed(evt);
            }
        });
        rSPanelGradiente1.add(crear, new org.netbeans.lib.awtextra.AbsoluteConstraints(180, 420, 150, 40));

        jLabel1.setFont(new java.awt.Font("Tahoma", 1, 24)); // NOI18N
        jLabel1.setForeground(new java.awt.Color(255, 255, 255));
        jLabel1.setText("Creando Usuario");
        rSPanelGradiente1.add(jLabel1, new org.netbeans.lib.awtextra.AbsoluteConstraints(80, 30, -1, -1));

        add(rSPanelGradiente1, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, 580, 530));
    }// </editor-fold>//GEN-END:initComponents

    private void txt_usuarioActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txt_usuarioActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txt_usuarioActionPerformed

    private void txt_nombresKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_nombresKeyTyped
        char c = evt.getKeyChar();
        if ((c < 'a' || c > 'z') && (c < 'A' || c > 'Z') && (c < ' ' || c > ' ')) {
            evt.consume();
        }
    }//GEN-LAST:event_txt_nombresKeyTyped

    private void txt_cedulaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txt_cedulaActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txt_cedulaActionPerformed

    private void txt_numeroContactoKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_numeroContactoKeyTyped
        char c = evt.getKeyChar();
        if (c < '0' || c > '9') {
            evt.consume();
        }
    }//GEN-LAST:event_txt_numeroContactoKeyTyped

    private void txt_cedulaKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_cedulaKeyTyped
        char c = evt.getKeyChar();
        if (c < '0' || c > '9') {
            evt.consume();
        }
    }//GEN-LAST:event_txt_cedulaKeyTyped

    private void txt_primerApellidoKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_primerApellidoKeyTyped
        char c = evt.getKeyChar();
        if ((c < 'a' || c > 'z') && (c < 'A' || c > 'Z') && (c < ' ' || c > ' ')) {
            evt.consume();
        }
    }//GEN-LAST:event_txt_primerApellidoKeyTyped

    private void txt_segundoApellidoKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_segundoApellidoKeyTyped
        char c = evt.getKeyChar();
        if ((c < 'a' || c > 'z') && (c < 'A' || c > 'Z') && (c < ' ' || c > ' ')) {
            evt.consume();
        }
    }//GEN-LAST:event_txt_segundoApellidoKeyTyped

    private void bx_tipo_usuarioActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bx_tipo_usuarioActionPerformed
        
    }//GEN-LAST:event_bx_tipo_usuarioActionPerformed

    private void salirActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_salirActionPerformed
        nuevo.dispose();
        
    }//GEN-LAST:event_salirActionPerformed

    private void crearActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_crearActionPerformed
        nombre = txt_nombres.getText();
        apellido = txt_primerApellido.getText();
        cedula = txt_cedula.getText();
        correo = txt_correo.getText();
        numeroContacto = txt_numeroContacto.getText();
        apellid2 = txt_segundoApellido.getText(); //hrsgsrh
        pass = txt_contrase単a.getText();
        repeatPass=txt_repetirContrase単a.getText();
        usuario = txt_usuario.getText();
        direccion = txt_direccion.getText();
        tipoUsuario = bx_tipo_usuario.getSelectedItem().toString();

        if ((nombre.equals("Nombres")) || (pass.equals("Contrase単a")) || (cedula.equals("C辿dula"))
            || (correo.equals("Correo electronico (personal o empresarial)")) || (direccion.equals("Direcci坦n domicilio")) || (numeroContacto.equals("Numero de contacto"))
            || (apellido.equals("Primer Apellido")) || (repeatPass.equals("Repita la Contrase単a")) || (usuario.equals("Usuario"))
            || (bx_tipo_usuario.getSelectedItem().equals(""))) {

        } else if (!pass.equals(repeatPass) ) {
            System.out.println("contrase単a errada");
        } else {
            try {            
                logica.crearUsuario(nombre, apellido, cedula, correo, numeroContacto, apellid2, pass, usuario, direccion, tipoUsuario);
            } catch (SQLException ex) {
                Logger.getLogger(CrearUsuario.class.getName()).log(Level.SEVERE, null, ex);
            }
        }
        
        this.txt_nombres.setText("");
        this.txt_cedula.setText("");
        this.txt_contrase単a.setText("");
        this.txt_numeroContacto.setText("");
        this.txt_correo.setText("");
        this.txt_direccion.setText("");
        this.txt_primerApellido.setText("");
        this.txt_segundoApellido.setText("");
        this.txt_usuario.setText("");
        this.txt_repetirContrase単a.setText("");
        holders();
        
    }//GEN-LAST:event_crearActionPerformed

    private void txt_correoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txt_correoActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txt_correoActionPerformed

    private void txt_nombresActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txt_nombresActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txt_nombresActionPerformed

    

    public void holders() {
        PlaceHolder holder;
        holder = new PlaceHolder(txt_nombres, "Nombres");
        holder = new PlaceHolder(txt_cedula, "C辿dula");
        holder = new PlaceHolder(txt_contrase単a, "Contrase単a");
        holder = new PlaceHolder(txt_repetirContrase単a, "Repita la Contrase単a");
        holder = new PlaceHolder(txt_primerApellido, "Primer Apellido");
        holder = new PlaceHolder(txt_segundoApellido, "Segundo Apellido");
        holder = new PlaceHolder(txt_correo, "Correo electronico (personal o empresarial)");
        holder = new PlaceHolder(txt_direccion, "Direcci坦n domicilio");
        holder = new PlaceHolder(txt_usuario, "Usuario");
        holder = new PlaceHolder(txt_numeroContacto, "Numero de contacto");
    }
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel ayuda;
    private rojerusan.RSComboBox bx_tipo_usuario;
    private rojerusan.RSMaterialButtonRectangle crear;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel logo;
    private javax.swing.JLabel obligatorio;
    private javax.swing.JLabel obligatorio1;
    private javax.swing.JLabel obligatorio2;
    private javax.swing.JLabel obligatorio3;
    private javax.swing.JLabel obligatorio4;
    private javax.swing.JLabel obligatorio5;
    private javax.swing.JLabel obligatorio6;
    private javax.swing.JLabel obligatorio7;
    private javax.swing.JLabel obligatorio8;
    private javax.swing.JLabel obligatorio9;
    private rojeru_san.rspanel.RSPanelGradiente rSPanelGradiente1;
    private rojerusan.RSMaterialButtonRectangle salir;
    private javax.swing.JTextField txt_cedula;
    private javax.swing.JPasswordField txt_contrase単a;
    private javax.swing.JTextField txt_correo;
    private javax.swing.JTextField txt_direccion;
    private javax.swing.JTextField txt_nombres;
    private javax.swing.JTextField txt_numeroContacto;
    private javax.swing.JTextField txt_primerApellido;
    private javax.swing.JPasswordField txt_repetirContrase単a;
    private javax.swing.JTextField txt_segundoApellido;
    private javax.swing.JTextField txt_usuario;
    // End of variables declaration//GEN-END:variables
}
